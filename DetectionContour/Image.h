/*
 * Image processing : edge detection
 *
 * Authors : Pascal Guehl, Clement Picq
 */

/** 
 * @version 1.0
 */

#ifndef IMAGE_H
#define IMAGE_H

/******************************************************************************
 ******************************* INCLUDE SECTION ******************************
 ******************************************************************************/
 
 // System
#include <cstdio>
#include <cmath>

// OpenCV
#ifdef __linux__
    #include <cv.h>
    #include <highgui.h>

#elif _WIN32
    #include <opencv/cv.hpp>

#endif

// STL
#include <vector>
#include <string>

/******************************************************************************
 ************************* DEFINE AND CONSTANT SECTION ************************
 ******************************************************************************/

 /******************************************************************************
 ***************************** TYPE DEFINITION ********************************
 ******************************************************************************/

/******************************************************************************
 ******************************** CLASS USED **********************************
 ******************************************************************************/

/******************************************************************************
 ****************************** CLASS DEFINITION ******************************
 ******************************************************************************/
 
/**
 * @class Image
 */
class Image
{

	/**************************************************************************
	 ***************************** PUBLIC SECTION *****************************
	 **************************************************************************/
	 
public:

	/****************************** INNER TYPES *******************************/

    /******************************* ATTRIBUTES *******************************/

	/******************************** METHODS *********************************/

	/**
	 * Constructor
	 */
    Image();

    /**
     * Destructor
     */
    virtual ~Image();

    /**
     * Print info
     */
    void print();

    /**
     * Load kernel from file
     *
     * @param pFilename
     *
     * @return flag telling whether or not it succeds
     */
    bool load( const char* pFilename );

    /**
     * @brief getKernel
     * @return
     */
    const cv::Mat& getData() const;

    /**
     * @brief editKernel
     * @return
     */
    cv::Mat& editData();
	
	/**************************************************************************
	 **************************** PROTECTED SECTION ***************************
	 **************************************************************************/

protected:

	/****************************** INNER TYPES *******************************/

	/******************************* ATTRIBUTES *******************************/

    /**
     * Size of image
     */
    unsigned int _width;
    unsigned int _height;

    /**
     * Kernel
     */
    cv::Mat _data;

    /**
     * Name
     */
    std::string _name;

	/******************************** METHODS *********************************/
	
	/**************************************************************************
	 ***************************** PRIVATE SECTION ****************************
	 **************************************************************************/

private:

	/****************************** INNER TYPES *******************************/

	/******************************* ATTRIBUTES *******************************/
	
    /******************************** METHODS *********************************/
	
};

/**************************************************************************
 ***************************** INLINE SECTION *****************************
 **************************************************************************/

#endif // IMAGE_H
