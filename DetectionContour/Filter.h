/*
 * Image processing : edge detection
 *
 * Authors : Pascal Guehl, Clement Picq
 */

/** 
 * @version 1.0
 */

#ifndef FILTER_H
#define FILTER_H

/******************************************************************************
 ******************************* INCLUDE SECTION ******************************
 ******************************************************************************/
 
 // System
#include <cstdio>
#include <cmath>

// OpenCV
#ifdef __linux__
    #include <cv.h>
    #include <highgui.h>

#elif _WIN32
    #include <opencv/cv.hpp>

#endif

// STL
#include <vector>
#include <string>

/******************************************************************************
 ************************* DEFINE AND CONSTANT SECTION ************************
 ******************************************************************************/

 /******************************************************************************
 ***************************** TYPE DEFINITION ********************************
 ******************************************************************************/

/******************************************************************************
 ******************************** CLASS USED **********************************
 ******************************************************************************/

/******************************************************************************
 ****************************** CLASS DEFINITION ******************************
 ******************************************************************************/
 
/**
 * @class Filter
 */
class Filter
{

	/**************************************************************************
	 ***************************** PUBLIC SECTION *****************************
	 **************************************************************************/
	 
public:

	/****************************** INNER TYPES *******************************/

    /******************************* ATTRIBUTES *******************************/

	/******************************** METHODS *********************************/

	/**
	 * Constructor
	 */
    Filter();

    /**
     * Destructor
     */
    virtual ~Filter();

    /**
     * Print info
     */
    void print();

    /**
     * Load kernel from file
     *
     * @param pFilename
     *
     * @return flag telling whether or not it succeds
     */
    bool load( const char* pFilename );

    /**
     * @brief getKernel
     * @return
     */
    const cv::Mat& getKernel() const;

    /**
     * @brief editKernel
     * @return
     */
    cv::Mat& editKernel();
	
	/**************************************************************************
	 **************************** PROTECTED SECTION ***************************
	 **************************************************************************/

protected:

	/****************************** INNER TYPES *******************************/

	/******************************* ATTRIBUTES *******************************/

    /**
     * Size of kernel
     */
    unsigned int _size;

    /**
     * Kernel
     */
    cv::Mat _kernel;

    /**
     * Name
     */
    std::string _name;

	/******************************** METHODS *********************************/
	
	/**************************************************************************
	 ***************************** PRIVATE SECTION ****************************
	 **************************************************************************/

private:

	/****************************** INNER TYPES *******************************/

	/******************************* ATTRIBUTES *******************************/
	
    /******************************** METHODS *********************************/
	
};

/**************************************************************************
 ***************************** INLINE SECTION *****************************
 **************************************************************************/

#endif // FILTER_H
